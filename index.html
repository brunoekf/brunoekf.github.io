<!DOCTYPE html>
<html>
<head>
    <title>P치gina de Login</title>
    <!-- Asynchronous loading of the IncogniaWebSdk using defer -->
    <script defer src="https://repo.incognia.com/web/latest/incognia-web-sdk.js"></script>

    <!-- IncogniaWebSdk initialized after the DOM loads -->
    <script>
    window.addEventListener('DOMContentLoaded', () => 
    window.IncogniaWebSdk.init('fde8ad2d-2a07-44d8-aeac-54f851f41dea')
  )
    </script>

</head>
<body>
    <h1>P치gina de Login</h1>
    <label for="account_id">Account ID:</label>
    <input type="text" id="account_id">
    <button onclick="logar()">Logar</button>
    <br><br>
    <label id="sessionToken">Session Token:</label>

    <script>
        async function logar() {
            var accountId = document.getElementById("account_id").value;
            const sessionToken = await IncogniaWebSdk.getSessionToken()
            console.log(sessionToken)
            console.log("Passou aqui")

            // Redirecionar para a mesma p치gina com o valor do campo account_id como par칙metro get na URL
            //window.location.href = window.location.pathname + "?account_id=" + accountId;

            // Preencher o label session-token com o valor do sessionToken obtido do SDK da Incognia
            document.getElementById("sessionToken").innerText = "Session Token: " + sessionToken;

            
        }
    </script>
</body>
</html>